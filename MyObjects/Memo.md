学習用メモ  

# 第一部　時系列分析の考え方  

## 一章　時系列分析の基礎  
* 用語  
DGP: Data Generation Process、モデル化の対象  

## 二章　時系列データの構造
時系列データ = 自己相関（過去系列で説明できる部分） + 周期的変動（季節性等） + トレンド + 外因性 + ホワイトノイズ  
* 用語  
ホワイトノイズ: 期待値ゼロ、分散一定、自己相関ゼロの定常過程、分布の形状は問わない

## 三章　数式による時系列データの表記方法  
* 用語  
弱定常: 期待値と自己相関が一定  
強定常: 任意の時点、時間差に関する同時分布が常に同一  
iid: independent and identically distributed、独立で同一の分布に従う系列  
偏自己相関: k次の偏自己相関とはk-1時点までの影響が取り除かれた自己相関  
　  
<img src="https://latex.codecogs.com/gif.latex?P_{tk}=\frac{Cov\left(&space;y_{t}-\widehat{y}_{t},y_{t-k}-\widehat{y}_{t-k}&space;\right)}{\sqrt{Var\left(&space;y_{t}-\widehat{y}_{t}&space;\right)Var\left(&space;y_{t-k}-\widehat{y}_{t-k}&space;\right)}}" title="P_{tk}=\frac{Cov\left( y_{t}-\widehat{y}_{t},y_{t-k}-\widehat{y}_{t-k} \right)}{\sqrt{Var\left( y_{t}-\widehat{y}_{t} \right)Var\left( y_{t-k}-\widehat{y}_{t-k} \right)}}" /></a>  
（＊） ハット記号は推定量  

# 第二部　Box-Jenkins法とその周辺  

## 一章 Box-Jenkins法というフレームワーク  
Box-Jenkins法は、時系列データを効率的に分析するための以下のフレームワーク  
1. データを定常過程に変換  
1. ARIMAモデルの同定  
1. 適合性の評価  
1. 予測精度の評価  

## 二章　定常過程とデータの変換  
d階差分をとった系列が定常過程となる原系列がd次和分過程  
特にd=1の場合を単位根過程
差分系列にARMAモデルを用いたものがARIMAモデル  
対数差分系列は変化率と看做すことができる  
特定サイクルの階差を季節階差と呼ぶ  

## 三章　ARIMAモデル  
d次和分過程にARモデルとMAモデルの合成モデルを適用したもの  
AR(1) = MA(∞)  
1. ARモデル  
前期までの実現値に応じて期待値が変化するモデル  
自己相関は次数が上がるにつれて、徐々に低下する  
偏自己相関は次数を超えるラグでゼロになる  
誤差項は正規分布に従うホワイトノイズを仮定
係数が負の場合に振幅が大きくなる  
定常条件がある  
1. MAモデル  
前期までのホワイトノイズに応じて期待値が変化するモデル
自己相関は次数を超えるラグでゼロになる    
偏自己相関は次数が上がるにつれて、徐々に低下する  
誤差項は正規分布に従うホワイトノイズを仮定  
係数が負の場合に振幅が大きくなる  
常に定常  
反転可能条件を満たすMAモデルは統計的に望ましい性質を持つ  

## 四章　ARIMAモデルの拡張  
1. SARIMAモデル  
SARIMA(p,d,q)(P,D,Q)[s]: 周期がsの季節階差がARIMA(P,D,Q)に従い、それを除く部分がARIMA(p,d,q)に従うモデル  
1. ARIMAXモデル  
ARIMAに同時点の外生変数による説明項が加わったモデル  

## 五章　モデルの同定と評価の考え方  
1. 単位根検定（KPSS、ADF、PP等）で差分を取る必要性を確認（季節階差の次数はCanova-Hansen検定で判断）  
1. AIC等を基準に総当たりで同定  
1. 定常性、反転可能性の確認  
1. 残差に自己相関がないことを確認（Ljung-Box検定）  
1. 残差の正規であることを確認（Jarque-Bera検定、Shapiro-Wilk検定等）  
1. テストデータを用いてナイーブな予測（平均値、前期値等）と予測精度を比較  

* 用語  
尤度: 与えられたパラメータで、収集したデータが得られる確率  
AIC: -2 × 最大化対数尤度 + パラメータの数  

## 六章　Rによる時系列データの取り扱い  
* R Tips  
  * 時系列分析パッケージ  
  xts: 時系列データ分析  
  * 使用例  
   * 時系列データの作成  
   
  



